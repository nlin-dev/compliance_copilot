generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

model AuditLog {
  id            String   @id
  timestamp     DateTime @default(now())
  endpoint      String
  method        String
  clientIp      String?
  userAgent     String?
  requestBody   Json?
  responseCode  Int
  responseTime  Int
  queryText     String?
  chunksUsed    Int?
  noteLength    Int?
  findingsCount Int?
  errorMessage  String?

  @@index([clientIp])
  @@index([endpoint])
  @@index([timestamp])
}
