---
phase: 05-frontend
plan: 03
type: execute
---

<objective>
Enhance compliance checker with example note loader and loading states.

Purpose: Help users get started quickly with example visit notes and provide visual feedback during analysis.
Output: Example selector dropdown and skeleton loading states for compliance UI.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

**Prior work (04-02):**
- Sample visit notes created at data/sample-visit-notes.json (5 examples)
- ComplianceForm component exists at src/components/compliance/compliance-form.tsx
- FindingsDisplay component shows results

**Key files:**
@data/sample-visit-notes.json
@src/components/compliance/compliance-form.tsx
@src/components/compliance/findings-display.tsx
@src/app/compliance/page.tsx

**Tech available:** shadcn/ui Skeleton component (already added), Select component
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create example note selector</name>
  <files>src/components/compliance/example-selector.tsx, src/components/compliance/compliance-form.tsx</files>
  <action>
    1. Create src/components/compliance/example-selector.tsx:
       - Add shadcn Select component if needed: `npx shadcn@latest add select`
       - Import sample visit notes from data/sample-visit-notes.json
       - Create Select with options for each example (use note title/scenario as label)
       - On selection, call onSelect callback with the full note text
       - Include "Choose an example..." placeholder
    2. Update src/components/compliance/compliance-form.tsx:
       - Add ExampleSelector above the textarea
       - When example selected, populate textarea with the note text
       - Add descriptive text: "Try an example or paste your own note"
  </action>
  <verify>npm run dev - navigate to /compliance, select an example, verify textarea populates with note content</verify>
  <done>Example dropdown shows 5 sample notes, selecting one fills the textarea</done>
</task>

<task type="auto">
  <name>Task 2: Add loading skeleton to findings display</name>
  <files>src/components/compliance/findings-skeleton.tsx, src/app/compliance/page.tsx</files>
  <action>
    1. Create src/components/compliance/findings-skeleton.tsx:
       - Use shadcn Skeleton component
       - Mimic FindingsDisplay structure:
         - Card with skeleton title and badge placeholder
         - 3 skeleton lines for summary
         - 5 skeleton finding cards
       - Each finding card skeleton: header line + 2 body lines
    2. Update src/app/compliance/page.tsx:
       - Import FindingsSkeleton
       - Show skeleton instead of nothing when isLoading is true and no result yet
       - Replace empty state during loading with skeleton
  </action>
  <verify>npm run dev - submit a note for analysis, verify skeleton appears while loading, then results replace it</verify>
  <done>Loading state shows skeleton matching findings layout, smooth transition to results</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] Example selector shows 5 sample visit notes
- [ ] Selecting example populates textarea with note content
- [ ] Loading skeleton appears during compliance analysis
- [ ] Results replace skeleton smoothly when analysis completes
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- No TypeScript errors
- UX improved with examples and loading feedback
- Phase 5: Frontend complete
</success_criteria>

<output>
After completion, create `.planning/phases/05-frontend/05-03-SUMMARY.md` with:
- Phase 5 marked complete
- Ready for Phase 6: Polish
</output>
