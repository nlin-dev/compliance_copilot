---
phase: 06-polish
plan: 01
type: execute
---

<objective>
Add chat loading skeleton and enhance SEO metadata with OpenGraph tags.

Purpose: Improve user experience with proper loading states and enable rich social sharing previews.
Output: Chat skeleton component and comprehensive metadata in root layout.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./06-01-SUMMARY.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior work
@.planning/phases/05-frontend/05-03-SUMMARY.md

# Key files
@src/app/layout.tsx
@src/components/chat/chat-container.tsx
@src/components/chat/message-list.tsx
@src/components/ui/skeleton.tsx
@src/components/compliance/findings-skeleton.tsx

**Tech stack available:** Next.js 14, shadcn/ui, Tailwind, skeleton component
**Established patterns:** Skeleton components mirror production component structure (from 05-03)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add chat message skeleton component</name>
  <files>src/components/chat/message-skeleton.tsx, src/components/chat/message-list.tsx</files>
  <action>
    Create MessageSkeleton component that mimics the message bubble layout:
    - Use existing Skeleton component from ui/skeleton.tsx
    - Create a skeleton for user message (right-aligned, shorter)
    - Create a skeleton for assistant message (left-aligned, longer with source card placeholder)
    - Export ChatLoadingSkeleton that shows 2-3 skeleton message pairs

    Update MessageList to accept optional `showInitialSkeleton` prop - when true and messages are empty, show the loading skeleton to indicate the chat is ready for input (not for streaming - that already has indicator).

    Follow the pattern from findings-skeleton.tsx - skeleton structure mirrors the actual component structure.
  </action>
  <verify>Visual inspection: Chat page shows skeleton structure when loading, transitions smoothly to real messages</verify>
  <done>MessageSkeleton component exists, follows established skeleton pattern, integrates with MessageList</done>
</task>

<task type="auto">
  <name>Task 2: Enhance SEO metadata with OpenGraph tags</name>
  <files>src/app/layout.tsx, src/app/chat/page.tsx, src/app/compliance/page.tsx</files>
  <action>
    Update root layout metadata for comprehensive SEO:

    In layout.tsx:
    - Add metadataBase pointing to production URL (use NEXT_PUBLIC_APP_URL env var or default)
    - Add OpenGraph config: title, description, type: 'website', siteName
    - Add Twitter card config: card: 'summary_large_image'
    - Add robots: { index: true, follow: true }
    - Add keywords array

    In chat/page.tsx, add page-specific metadata:
    - title: 'Q&A Chat | CMS Compliance Assistant'
    - description focused on asking Medicare compliance questions

    In compliance/page.tsx, add page-specific metadata:
    - title: 'Compliance Checker | CMS Compliance Assistant'
    - description focused on visit note compliance checking

    Use Next.js 14 Metadata API. Do NOT create opengraph-image files - keep it simple with text-based OG tags.
  </action>
  <verify>npm run build succeeds, inspect generated HTML head tags in dev tools</verify>
  <done>Root and page metadata configured with OpenGraph, pages have unique titles and descriptions</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] Chat page shows skeleton when appropriate
- [ ] View page source shows og: meta tags
- [ ] Each page has unique title and description
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No TypeScript errors
- Loading states enhance UX
- SEO metadata ready for deployment
</success_criteria>

<output>
After completion, create `.planning/phases/06-polish/06-01-SUMMARY.md`
</output>
